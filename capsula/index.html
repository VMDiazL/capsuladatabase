<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cápsula Educativa: Diseño de Bases de Datos</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  </head>
  <body>
    <!-- Botón flotante de Chatbot -->
    <div class="chatbot-button" onclick="openChatbot()">
      <svg
        class="chatbot-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#fff"
        stroke-width="2"
      >
        <path
          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-12h2v2h-2zm0 4h2v2h-2z"
        />
      </svg>
      Chatbot de Ayuda
    </div>

    <!-- Botón de Cerrar Sesión -->
    <div class="logout-button" onclick="clearLocalStorage()">
      <svg
        class="logout-icon"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#fff"
        stroke-width="2"
      >
        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9" />
      </svg>
      Cerrar Sesión
    </div>

    <!-- Menú flotante -->
    <nav class="floating-menu" id="floatingMenu" style="display: none">
      <ul>
        <li><a href="#portada" onclick="showSection('portada')">Portada</a></li>
        <li>
          <a href="#introduccion" onclick="showSection('introduccion')"
            >Introducción</a
          >
        </li>
        <li>
          <a href="#activacion" onclick="showSection('activacion')"
            >Activación</a
          >
        </li>
        <li>
          <a href="#desarrollo" onclick="showSection('desarrollo')"
            >Desarrollo</a
          >
        </li>
        <li>
          <a
            href="#evaluacion-formativa"
            onclick="showSection('evaluacion-formativa')"
            >Evaluación Formativa</a
          >
        </li>
        <li>
          <a href="#evaluacion" onclick="showSection('evaluacion')"
            >Evaluación</a
          >
        </li>
        <li>
          <a href="#sintesis" onclick="showSection('sintesis')">Síntesis</a>
        </li>
        <li><a href="#cierre" onclick="showSection('cierre')">Cierre</a></li>
        <li>
          <a href="#certificado" onclick="showSection('certificado')"
            >Certificado</a
          >
        </li>
      </ul>
    </nav>

    <!-- Indicador de progreso -->
    <div class="progress-bar">
      <div class="progress" id="progress"></div>
    </div>

    <!-- Formulario de Ingreso -->
    <section id="formulario" class="section">
      <div class="container">
        <h1>Bienvenid@ a la Cápsula Educativa</h1>
        <p>
          Por favor, ingresa tus datos para generar tu certificado al finalizar
          el curso.
        </p>
        <form id="userForm">
          <label for="nombre">Nombre Completo:</label>
          <input type="text" id="nombre" required />
          <label for="correo">Correo Electrónico:</label>
          <input type="email" id="correo" required />
          <button type="submit">Iniciar Curso</button>
        </form>
        <button onclick="clearLocalStorage()">Borrar Datos</button>
      </div>
    </section>

    <!-- Portada -->
    <section id="portada" class="section" style="display: none">
      <div class="container">
        <h1>Diseño de Bases de Datos</h1>
        <svg
          class="db-icon"
          viewBox="0 0 100 100"
          fill="none"
          stroke="#BC955C"
          stroke-width="2"
        >
          <ellipse cx="50" cy="20" rx="40" ry="10" fill="#006657" />
          <ellipse cx="50" cy="50" rx="40" ry="10" fill="#691C32" />
          <ellipse cx="50" cy="80" rx="40" ry="10" fill="#006657" />
          <path d="M10 20v60M90 20v60" stroke="#BC955C" />
        </svg>
        <button onclick="showSection('introduccion')">Iniciar Curso</button>
      </div>
    </section>

    <!-- Introducción -->
    <section id="introduccion" class="section" style="display: none">
      <div class="container">
        <h2>Introducción al Diseño de Bases de Datos</h2>
        <p>
          En esta cápsula educativa, exploraremos los fundamentos del diseño de
          bases de datos, desde el modelamiento conceptual hasta el diseño
          físico, utilizando SQL. Aprenderás a estructurar datos de manera
          eficiente y a implementar bases de datos relacionales.
        </p>
        <h3>Objetivos de Aprendizaje:</h3>
        <ul>
          <li>Comprender los conceptos de modelamiento de datos.</li>
          <li>Diferenciar entre diseño conceptual, lógico y físico.</li>
          <li>Aplicar técnicas de normalización en bases de datos.</li>
        </ul>
        <svg
          class="db-icon"
          viewBox="0 0 100 100"
          fill="none"
          stroke="#BC955C"
          stroke-width="2"
        >
          <rect x="20" y="20" width="60" height="60" rx="10" fill="#006657" />
          <path d="M30 40h40M30 60h40" stroke="#BC955C" />
        </svg>
        <button onclick="showSection('activacion')">Continuar</button>
      </div>
    </section>

    <!-- Activación -->
    <section id="activacion" class="section" style="display: none">
      <div class="container">
        <h2>Activación de Conocimientos Previos</h2>
        <p>
          Realiza la siguiente actividad para rescatar tus conocimientos previos
          sobre diseño de bases de datos.
        </p>
        <iframe
          allow="fullscreen; autoplay; allow-top-navigation-by-user-activation"
          allowfullscreen
          width="795"
          height="690"
          frameborder="0"
          src="https://es.educaplay.com/juego/24339351-desafio_de_diseno_de_base_de_datos.html"
        ></iframe>
        <button onclick="showSection('desarrollo')">Continuar</button>
      </div>
    </section>

    <!-- Desarrollo -->
    <section id="desarrollo" class="section" style="display: none">
      <div class="container">
        <h2>Desarrollo: Fundamentos del Diseño de Bases de Datos</h2>

        <!-- Contenido Informativo -->
        <div class="content-block">
          <h3>Diseño Conceptual</h3>
          <svg
            class="db-icon"
            viewBox="0 0 100 100"
            fill="none"
            stroke="#BC955C"
            stroke-width="2"
          >
            <circle cx="50" cy="50" r="40" fill="#006657" />
            <path d="M30 50h40M50 30v40" stroke="#BC955C" />
          </svg>
          <p>
            El diseño conceptual es el primer paso en el modelamiento de bases
            de datos. Consiste en identificar las entidades (objetos del mundo
            real) y las relaciones entre ellas, representadas mediante diagramas
            Entidad-Relación (ER). Este diseño es independiente del sistema de
            gestión de bases de datos (SGBD) y se centra en capturar los
            requisitos del usuario de manera abstracta.
          </p>
        </div>

        <div class="content-block">
          <h3>Diseño Lógico</h3>
          <svg
            class="db-icon"
            viewBox="0 0 100 100"
            fill="none"
            stroke="#BC955C"
            stroke-width="2"
          >
            <rect x="20" y="20" width="60" height="60" rx="10" fill="#691C32" />
            <path d="M30 40h40M30 60h40" stroke="#BC955C" />
          </svg>
          <p>
            El diseño lógico transforma el modelo conceptual en un esquema que
            puede implementarse en un SGBD específico. Incluye la definición de
            tablas, columnas, claves primarias y foráneas, y la aplicación de
            técnicas de normalización (1NF, 2NF, 3NF) para eliminar redundancias
            y garantizar la integridad de los datos.
          </p>
        </div>

        <div class="content-block">
          <h3>Diseño de Aplicaciones</h3>
          <svg
            class="db-icon"
            viewBox="0 0 100 100"
            fill="none"
            stroke="#BC955C"
            stroke-width="2"
          >
            <path d="M20 20h60v60H20z" fill="#006657" />
            <path d="M40 30h20M40 50h20M40 70h20" stroke="#BC955C" />
          </svg>
          <p>
            El diseño de aplicaciones se enfoca en cómo la base de datos
            interactúa con el software. Esto incluye la creación de consultas
            SQL optimizadas, la definición de índices para mejorar el
            rendimiento y la integración con interfaces de usuario. También
            considera aspectos como la escalabilidad y la seguridad de la base
            de datos en el contexto de la aplicación.
          </p>
        </div>

        <!-- Video Interactivo -->
        <h3>Video Interactivo</h3>
        <p>
          Ahora, profundiza en estos conceptos con el siguiente video, que
          incluye preguntas interactivas para reforzar tu aprendizaje.
        </p>
        <div class="video-container">
          <iframe
            id="videoPlayer"
            width="560"
            height="315"
            src="https://www.youtube.com/embed/AOWZiqKb7LU?si=lwDARCqBPG9TnTN4&enablejsapi=1"
            title="YouTube video player"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            referrerpolicy="strict-origin-when-cross-origin"
            allowfullscreen
          ></iframe>
        </div>
        <div id="quizOverlay" class="quiz-overlay" style="display: none">
          <div class="quiz-content">
            <h3>Pregunta</h3>
            <div id="quizQuestion"></div>
            <button onclick="submitQuizAnswer()">Enviar Respuesta</button>
          </div>
        </div>
        <button onclick="showSection('evaluacion-formativa')">Continuar</button>
      </div>
    </section>

    <!-- Evaluación Formativa -->
    <section id="evaluacion-formativa" class="section" style="display: none">
      <div class="container">
        <h2>Evaluación Formativa</h2>
        <p>Realiza esta actividad para reforzar lo aprendido.</p>
        <iframe
          allow="fullscreen; autoplay; allow-top-navigation-by-user-activation"
          allowfullscreen
          width="795"
          height="690"
          frameborder="0"
          src="https://es.educaplay.com/juego/24339351-desafio_de_diseno_de_base_de_datos.html"
        ></iframe>
        <button onclick="showSection('evaluacion')">Continuar</button>
      </div>
    </section>

    <!-- Evaluación -->
    <section id="evaluacion" class="section" style="display: none">
      <div class="container">
        <h2>Evaluación Final</h2>
        <div id="finalQuiz"></div>
        <button onclick="submitFinalQuiz()">Enviar Evaluación</button>
        <div id="quizFeedback"></div>
        <button onclick="downloadReport()">Descargar Reporte</button>
        <button onclick="showSection('sintesis')">Continuar</button>
      </div>
    </section>

    <!-- Síntesis -->
    <section id="sintesis" class="section" style="display: none">
      <div class="container">
        <h2>Síntesis</h2>
        <p>
          En esta cápsula educativa, has aprendido los fundamentos clave del
          diseño de bases de datos:
        </p>
        <ul>
          <li>
            <strong>Modelamiento Conceptual:</strong> Define entidades y
            relaciones mediante diagramas ER, capturando requisitos del usuario.
          </li>
          <li>
            <strong>Diseño Lógico:</strong> Transforma el modelo conceptual en
            tablas y aplica normalización para eliminar redundancias.
          </li>
          <li>
            <strong>Diseño Físico:</strong> Optimiza el almacenamiento y
            rendimiento con índices y ajustes específicos del SGBD.
          </li>
        </ul>
        <svg
          class="db-icon"
          viewBox="0 0 100 100"
          fill="none"
          stroke="#BC955C"
          stroke-width="2"
        >
          <circle cx="50" cy="50" r="40" fill="#006657" />
          <path d="M30 50h40M50 30v40" stroke="#BC955C" />
        </svg>
        <button onclick="showSection('cierre')">Continuar</button>
      </div>
    </section>

    <!-- Cierre -->
    <section id="cierre" class="section" style="display: none">
      <div class="container">
        <h2>Cierre y Reflexión</h2>
        <p>
          Responde las siguientes preguntas para reflexionar sobre tu
          aprendizaje:
        </p>
        <form id="reflectionForm">
          <label>1. ¿Qué aprendiste sobre el diseño de bases de datos?</label>
          <textarea required></textarea>
          <label
            >2. ¿Cómo aplicarías estos conocimientos en un proyecto real?</label
          >
          <textarea required></textarea>
          <label>3. ¿Qué desafíos enfrentaste durante esta cápsula?</label>
          <textarea required></textarea>
          <button type="submit">Guardar Respuestas</button>
        </form>
        <button onclick="downloadReport()">Descargar Reporte</button>
        <button onclick="showSection('certificado')">
          Generar Certificado
        </button>
      </div>
    </section>

    <!-- Certificado -->
    <section id="certificado" class="section" style="display: none">
      <div class="container">
        <h2>Certificado</h2>
        <div id="certificate" class="certificate">
          <h1>Certificado de <span id="certificateType"></span></h1>
          <p>Otorgado a: <span id="certificateName"></span></p>
          <p>Por completar la cápsula educativa: Diseño de Bases de Datos</p>
          <svg class="ai-icon" viewBox="0 0 24 24" fill="#BC955C">
            <path
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-12h2v2h-2zm0 4h2v2h-2z"
            />
          </svg>
          <img
            src="https://api.qrserver.com/v1/create-qr-code/?size=100x100&data=https://github.com/VMDiazL"
            alt="QR Code"
          />
        </div>
        <button onclick="downloadCertificate()">Descargar Certificado</button>
      </div>
    </section>

    <script src="script.js"></script>
  </body>
</html>
